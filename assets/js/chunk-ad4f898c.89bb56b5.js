(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad4f898c"],{"66d8":function(e,s,i){},"8ee8":function(e,s,i){"use strict";var t=function(){var e=this,s=e._self._c;return s("div",[s("div",{staticStyle:{"margin-bottom":"15px"}},[e._v(e._s("permission.roles")+": "+e._s(e.roles))]),e._v(" "+e._s("permission.switchRoles")+": "),s("el-radio-group",{model:{value:e.switchRoles,callback:function(s){e.switchRoles=s},expression:"switchRoles"}},[s("el-radio-button",{attrs:{label:"editor"}}),s("el-radio-button",{attrs:{label:"admin"}})],1)],1)},a=[],r={computed:{roles(){return this.$store.getters.roles},switchRoles:{get(){return this.roles[0]},set(e){this.$store.dispatch("user/changeRoles",e).then(()=>{this.$emit("change")})}}}},n=r,o=i("2877"),l=Object(o["a"])(n,t,a,!1,null,null,null);s["a"]=l.exports},"97d1":function(e,s,i){"use strict";i("66d8")},a99f:function(e,s,i){"use strict";i.r(s);var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"app-container"},[s("switch-roles",{on:{change:e.handleRolesChange}}),s("div",{key:e.key,staticStyle:{"margin-top":"30px"}},[s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-alert"},[e._v(" Only "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v("can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin"],expression:"['admin']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin']\"")])],1),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-alert"},[e._v(" Only "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v("can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["editor"],expression:"['editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['editor']\"")])],1),s("div",[s("span",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-alert"},[e._v(" Both "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("admin")]),e._v("and "),s("el-tag",{staticClass:"permission-tag",attrs:{size:"small"}},[e._v("editor")]),e._v("can see this ")],1),s("el-tag",{directives:[{name:"permission",rawName:"v-permission",value:["admin","editor"],expression:"['admin','editor']"}],staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-permission=\"['admin','editor']\"")])],1)]),s("div",{key:"checkPermission"+e.key,staticStyle:{"margin-top":"60px"}},[s("aside",[e._v(" "+e._s("permission.tips")+" "),s("br"),e._v("e.g. ")]),s("el-tabs",{staticStyle:{width:"550px"},attrs:{type:"border-card"}},[e.checkPermission(["admin"])?s("el-tab-pane",{attrs:{label:"Admin"}},[e._v(" Admin can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['admin'])\"")])],1):e._e(),e.checkPermission(["editor"])?s("el-tab-pane",{attrs:{label:"Editor"}},[e._v(" Editor can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['editor'])\"")])],1):e._e(),e.checkPermission(["admin","editor"])?s("el-tab-pane",{attrs:{label:"Admin-OR-Editor"}},[e._v(" Both admin or editor can see this "),s("el-tag",{staticClass:"permission-sourceCode",attrs:{type:"info"}},[e._v("v-if=\"checkPermission(['admin','editor'])\"")])],1):e._e()],1)],1)],1)},a=[],r=(i("d9e2"),i("4360"));function n(e,s){const{value:i}=s,t=r["a"].getters&&r["a"].getters.roles;if(!(i&&i instanceof Array))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");if(i.length>0){const s=i,a=t.some(e=>s.includes(e));a||e.parentNode&&e.parentNode.removeChild(e)}}var o={inserted(e,s){n(e,s)},update(e,s){n(e,s)}};const l=function(e){e.directive("permission",o)};window.Vue&&(window["permission"]=o,Vue.use(l)),o.install=l;var d=o;function c(e){if(e&&e instanceof Array&&e.length>0){const s=r["a"].getters&&r["a"].getters.roles,i=e,t=s.some(e=>i.includes(e));return!!t}return console.error("need roles! Like v-permission=\"['admin','editor']\""),!1}var m=i("8ee8"),p={name:"DirectivePermission",components:{SwitchRoles:m["a"]},directives:{permission:d},data(){return{key:1}},methods:{checkPermission:c,handleRolesChange(){this.key++}}},v=p,u=(i("97d1"),i("2877")),h=Object(u["a"])(v,t,a,!1,null,"43199980",null);s["default"]=h.exports}}]);